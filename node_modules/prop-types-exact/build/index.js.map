{"version":3,"sources":["../src/index.js"],"names":["forbidExtraProps","zeroWidthSpace","specialProperty","semaphore","Symbol","brand","fn","isBranded","value","propTypes","TypeError","forbidUnknownProps","props","_","componentName","unknownProps","Object","keys","filter","prop","length","join"],"mappings":";;;;;qBAoBwBA,gB;;;;;;AApBxB;;;;AACA;;;;AAEA;;;;;;;;AAEA,IAAMC,iBAAiB,QAAvB;AACA,IAAMC,yCAAuCD,cAA7C;AACA,IAAME,YAAY,OAAOC,MAAP,KAAkB,UAAlB,IAAgC,OAAOA,OAAO,KAAP,CAAP,KAAyB,UAAzD,GAAsEA,OAAO,KAAP,EAAcF,eAAd,CAAtE,GAAuG,0BAA2BA,eAApJ;;AAEA;AACA,SAASG,KAAT,CAAeC,EAAf,EAAmB;AAClB;AACAA,IAAGJ,eAAH,IAAsBC,SAAtB;AACA,QAAOG,EAAP;AACA;;AAED,SAASC,SAAT,CAAmBC,KAAnB,EAA0B;AACzB,QAAOA,SAASA,MAAMN,eAAN,MAA2BC,SAA3C;AACA;;AAEc,SAASH,gBAAT,CAA0BS,SAA1B,EAAqC;AACnD,KAAI,CAAC,gCAAcA,SAAd,CAAL,EAA+B;AAC9B,QAAM,IAAIC,iBAAJ,CAAc,mCAAd,CAAN;AACA;AACD,KAAI,yBAAOD,SAAP,EAAkBP,eAAlB,KAAsC,CAACK,UAAUE,UAAUP,eAAV,CAAV,CAA3C,EAAkF;AACjF,QAAM,IAAIQ,iBAAJ,CAAc,iKAAd,CAAN;AACA;;AAED,qCACID,SADJ,sBAGEP,eAHF,EAGoBG;AAAM,WAASM,kBAAT,CAA4BC,KAA5B,EAAmCC,CAAnC,EAAsCC,aAAtC,EAAqD;AAC7E,OAAMC,eAAeC,OAAOC,IAAP,CAAYL,KAAZ,EAAmBM,MAAnB,CAA0B,UAACC,IAAD;AAAA,WAAU,CAAC,yBAAOV,SAAP,EAAkBU,IAAlB,CAAX;AAAA,IAA1B,CAArB;AACA,OAAIJ,aAAaK,MAAb,GAAsB,CAA1B,EAA6B;AAC5B,WAAO,IAAIV,iBAAJ,QAAiBI,aAAjB,uCAAwDC,aAAaM,IAAb,CAAkB,IAAlB,CAAxD,EAAP;AACA;AACD,UAAO,IAAP;AACA;;AANkB,SAAeV,kBAAf;AAAA,KAHpB;AAWA","file":"index.js","sourcesContent":["import hasOwn from 'hasown';\nimport TypeError from 'es-errors/type';\n\nimport isPlainObject from './helpers/isPlainObject';\n\nconst zeroWidthSpace = '\\u200b';\nconst specialProperty = `prop-types-exact: ${zeroWidthSpace}`;\nconst semaphore = typeof Symbol === 'function' && typeof Symbol['for'] === 'function' ? Symbol['for'](specialProperty) : /* istanbul ignore next */ specialProperty;\n\n/** @type {<T extends Function>(fn: T) => T} */\nfunction brand(fn) {\n\t// eslint-disable-next-line no-param-reassign\n\tfn[specialProperty] = semaphore;\n\treturn fn;\n}\n\nfunction isBranded(value) {\n\treturn value && value[specialProperty] === semaphore;\n}\n\nexport default function forbidExtraProps(propTypes) {\n\tif (!isPlainObject(propTypes)) {\n\t\tthrow new TypeError('given propTypes must be an object');\n\t}\n\tif (hasOwn(propTypes, specialProperty) && !isBranded(propTypes[specialProperty])) {\n\t\tthrow new TypeError('Against all odds, you created a propType for a prop that uses both the zero-width space and our custom string - which, sadly, conflicts with `prop-types-exact`');\n\t}\n\n\treturn {\n\t\t...propTypes,\n\t\t// eslint-disable-next-line prefer-arrow-callback\n\t\t[specialProperty]: brand(function forbidUnknownProps(props, _, componentName) {\n\t\t\tconst unknownProps = Object.keys(props).filter((prop) => !hasOwn(propTypes, prop));\n\t\t\tif (unknownProps.length > 0) {\n\t\t\t\treturn new TypeError(`${componentName}: unknown props found: ${unknownProps.join(', ')}`);\n\t\t\t}\n\t\t\treturn null;\n\t\t}),\n\t};\n}\n"]}